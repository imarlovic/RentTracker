(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CalendarView"],{"0429":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-wrap flex-row items-end"},[a("r-field",{attrs:{label:"Year"}},[a("r-select",{model:{value:e.year,callback:function(t){e.year=t},expression:"year"}},[a("option",{domProps:{value:2020}},[e._v("2020")]),a("option",{domProps:{value:2019}},[e._v("2019")]),a("option",{domProps:{value:2018}},[e._v("2018")]),a("option",{domProps:{value:2017}},[e._v("2017")])])],1),a("r-field",{attrs:{label:"Month"}},[a("r-select",{model:{value:e.month,callback:function(t){e.month=t},expression:"month"}},[a("option",{domProps:{value:0}},[e._v("1")]),a("option",{domProps:{value:1}},[e._v("2")]),a("option",{domProps:{value:2}},[e._v("3")]),a("option",{domProps:{value:3}},[e._v("4")]),a("option",{domProps:{value:4}},[e._v("5")]),a("option",{domProps:{value:5}},[e._v("6")]),a("option",{domProps:{value:6}},[e._v("7")]),a("option",{domProps:{value:7}},[e._v("8")]),a("option",{domProps:{value:8}},[e._v("9")]),a("option",{domProps:{value:9}},[e._v("10")]),a("option",{domProps:{value:10}},[e._v("11")]),a("option",{domProps:{value:11}},[e._v("12")])])],1),a("r-field",[a("button",{staticClass:"btn mr-0 border-r-0 rounded-r-none",on:{click:e.previousMonth}},[a("i",{staticClass:"fas fa-angle-left"})]),a("button",{staticClass:"btn ml-0 border-l-0 rounded-l-none",on:{click:e.nextMonth}},[a("i",{staticClass:"fas fa-angle-right"})])]),a("r-field",[a("button",{staticClass:"btn",on:{click:e.reset}},[e._v("Today")])])],1)},r=[],s=a("0942"),i=a("8fb6"),l={name:"MonthSelector",components:{RField:s["a"],RSelect:i["a"]},props:{value:{type:Date,default:new Date}},data(){return{year:this.value.getFullYear(),month:this.value.getMonth()}},watch:{year:function(e){this.$emit("input",new Date(e,this.month,1))},month:function(e){this.$emit("input",new Date(this.year,e,1))}},methods:{previousMonth(){this.month-1<0?(this.year--,this.month=11):this.month--},nextMonth(){this.month+1>11?(this.year++,this.month=0):this.month++},reset(){let e=new Date;this.year=e.getFullYear(),this.month=e.getMonth()}}},o=l,c=a("2877"),d=Object(c["a"])(o,n,r,!1,null,null,null);t["a"]=d.exports},"0942":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field"},[e.label?a("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},[e._v("\n    "+e._s(e.label)+"\n  ")]):e._e(),e._t("default")],2)},r=[],s={name:"RField",inheritAttrs:!0,props:{label:{type:String,default:null}}},i=s,l=a("2877"),o=Object(l["a"])(i,n,r,!1,null,null,null);t["a"]=o.exports},1206:function(e,t,a){"use strict";var n=a("4941"),r=a.n(n);r.a},"14aa":function(e,t,a){},"36ff":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar w-full flex flex-col justify-center items-center pt-8 px-4"},[a("div",{staticClass:"container flex pb-4 mb-4"},[a("p",{staticClass:"text-gray-800 text-2xl"},[e._v("Linked calendars")]),a("router-link",{staticClass:"btn-link h-8 ml-auto",attrs:{to:"/calendar"}},[e._v("Calendar")])],1),a("div",{staticClass:"container flex justify-start items-end"},[a("button",{staticClass:"text-gray-600 ml-1 mr-0 hover:text-gray-800",on:{click:e.createLinkedCalendar}},[a("i",{staticClass:"pr-2 fas fa-plus"})]),a("button",{staticClass:"text-gray-600 ml-auto mr-0 hover:text-gray-800",on:{click:e.getLinkedCalendars}},[a("i",{staticClass:"pr-4 fas fa-sync"})])]),a("div",{staticClass:"container mt-4"},e._l(e.linkedCalendars,function(t){return a("div",{key:t.id,staticClass:"w-full flex items-center h-12 px-4 mb-2 rounded bg-gray-200 shadow-md text-md"},[a("span",{staticClass:"w-1/3 block font-semibold text-gray-800"},[e._v(e._s(t.name))]),a("a",{staticClass:"w-2/3 block mr-6 text-right text-blue-600 italic hover:underline",attrs:{href:t.url}},[e._v("Link")]),a("button",{staticClass:"w-6 h-full text-xs text-gray-600 ml-4 hover:text-gray-800",attrs:{title:"Edit"},on:{click:function(a){return e.editLinkedCalendar(t)}}},[a("i",{staticClass:"fas fa-pen"})]),a("button",{staticClass:"w-6 h-full text-xs text-gray-600 ml-4 hover:text-gray-800",attrs:{title:"Delete"},on:{click:function(a){return e.tryDeleteLinkedCalendar(t)}}},[a("i",{staticClass:"fas fa-trash"})]),a("button"),a("button",{staticClass:"w-6 h-full text-xs text-gray-600 ml-4 hover:text-gray-800",attrs:{title:"Sync reservations"},on:{click:function(a){return e.trySyncLinkedCalendar(t)}}},[a("i",{staticClass:"fas fa-sync"})]),a("button")])}),0),a("linked-calendar-form",{attrs:{visible:e.showLinkedCalendarForm,"linked-calendar":e.selectedLinkedCalendar},on:{close:e.closeLinkedCalendarForm}})],1)},r=[],s=a("0942"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-modal",{attrs:{active:e.visible},on:{close:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[a("p",{staticClass:"ml-6 my-3 font-bold  text-xl text-gray-700"},[e._v(e._s(e.title))])]},proxy:!0},{key:"default",fn:function(){return[e.formData?a("div",{staticClass:"m-6 flex flex-row flex-wrap align-center justify-between"},[a("div",{staticClass:"w-full"},[a("r-field",{attrs:{label:"Name"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.name,expression:"formData.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.formData.name},on:{input:function(t){t.target.composing||e.$set(e.formData,"name",t.target.value)}}})]),a("r-field",{attrs:{label:"Url"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.url,expression:"formData.url"}],staticClass:"input",attrs:{type:"text",placeholder:"Url"},domProps:{value:e.formData.url},on:{input:function(t){t.target.composing||e.$set(e.formData,"url",t.target.value)}}})])],1)]):e._e()]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"m-3 flex flex-row justify-end items-center"},[a("button",{staticClass:"btn btn-primary",on:{click:e.trySave}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-save"})]),e._v(" Save")]),a("button",{staticClass:"btn btn-outline-secondary ml-auto",on:{click:e.close}},[e._v("Cancel")])])]},proxy:!0}])})},l=[],o=a("5b7c"),c=a("2f62"),d={name:"LinkedCalendarForm",components:{RField:s["a"],RModal:o["a"]},props:{visible:{type:Boolean,required:!0},linkedCalendar:{type:Object,default:null}},data(){return{formData:null}},computed:{title(){return this.linkedCalendar?this.linkedCalendar.name:"New linked calendar"}},watch:{linkedCalendar:{immediate:!0,handler:function(e){this.formData=e?{...e}:{name:"",url:""}}}},methods:{...Object(c["b"])({createOrUpdate:"apartment/createOrUpdateLinkedCalendar"}),close(){this.$emit("close")},async trySave(){try{await this.createOrUpdate(this.formData),this.close()}catch(e){console.log(e)}}}},u=d,m=a("2877"),f=Object(m["a"])(u,i,l,!1,null,null,null),p=f.exports,v={name:"LinkedCalendars",mounted(){this.getLinkedCalendars()},components:{RField:s["a"],LinkedCalendarForm:p},data(){return{showLinkedCalendarForm:!1,selectedLinkedCalendar:null}},computed:{...Object(c["e"])({linkedCalendars:e=>e.apartment.linkedCalendars})},methods:{...Object(c["b"])({getLinkedCalendars:"apartment/getLinkedCalendars",deleteLinkedCalendar:"apartment/deleteLinkedCalendar",syncLinkedCalendar:"apartment/syncLinkedCalendar"}),createLinkedCalendar(){this.selectedLinkedCalendar=null,this.showLinkedCalendarForm=!0},editLinkedCalendar(e){this.selectedLinkedCalendar=e,this.showLinkedCalendarForm=!0},async tryDeleteLinkedCalendar(e){await this.deleteLinkedCalendar(e.id)},async trySyncLinkedCalendar(e){await this.syncLinkedCalendar(e.id)},closeLinkedCalendarForm(){this.selectedLinkedCalendar=null,this.showLinkedCalendarForm=!1}}},h=v,y=(a("5b0b"),Object(m["a"])(h,n,r,!1,null,"3fdb2db9",null));t["default"]=y.exports},"3ed4":function(e,t,a){},4941:function(e,t,a){},"5b0b":function(e,t,a){"use strict";var n=a("821e"),r=a.n(n);r.a},"5b7c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.active?a("div",{staticClass:"modal-container fixed top-0 right-0 w-screen h-screen overflow-auto flex flex-col justify-center items-center"},[a("div",{staticClass:"modal-backdrop absolute top-0 right-0 w-screen h-screen bg-gray-700 opacity-75",on:{click:e.close}}),a("div",{staticClass:"modal-content max-w-full h-full md:h-auto flex flex-col bg-white rounded shadow-lg",class:e.contentClass},[a("div",{staticClass:"modal-header"},[e._t("header")],2),a("div",{staticClass:"modal-body flex-grow md:flex-grow-0"},[e._t("default")],2),a("div",{staticClass:"modal-footer"},[e._t("footer")],2)])]):e._e()},r=[],s={name:"RModal",props:{active:{type:Boolean,required:!0},size:{type:String,default:"md"}},computed:{contentClass(){let e=[];switch(this.size){case"md":e.push("modal-size-md")}return e.join(" ")}},methods:{close(){this.$emit("close")}}},i=s,l=(a("b11f"),a("2877")),o=Object(l["a"])(i,n,r,!1,null,"6b5ed9fd",null);t["a"]=o.exports},"5eae":function(e,t,a){},"7a3f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input flex items-center"},[a("input",{ref:"input",staticClass:"date-input",attrs:{type:"date",placeholder:"Check-in"},domProps:{value:e.date},on:{input:function(t){return e.parseDate(t.target.value)}}}),e._v("\n  "+e._s(e._f("date")(e.date))+"\n")])},r=[],s=a("c1df"),i=a("eec9"),l={name:"DateInput",inheritAttrs:!0,mixins:[i["a"]],props:{value:{type:Date|String,default:(new Date).toString()}},data(){return{date:this.value}},watch:{value:{immediate:!0,handler:function(e){this.date=e?s(e).format("YYYY-MM-DD"):new Date}}},methods:{parseDate(e){this.$emit("input",s(e).toDate())}}},o=l,c=(a("e8a6"),a("2877")),d=Object(c["a"])(o,n,r,!1,null,"0d6e942a",null);t["a"]=d.exports},"821e":function(e,t,a){},8661:function(e,t,a){},"8fb6":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select"},[a("select",e._b({directives:[{name:"model",rawName:"v-model",value:e.computedValue,expression:"computedValue"}],staticClass:"font-inherit appearance-none",attrs:{name:"select"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.computedValue=t.target.multiple?a:a[0]}}},"select",e.$attrs,!1),[e.placeholder?[null==e.computedValue?a("option",{attrs:{disabled:"",hidden:""},domProps:{value:null}},[e._v("\n        "+e._s(e.placeholder)+"\n      ")]):e._e()]:e._e(),e._t("default")],2),a("div",{staticClass:"pointer-events-none absolute right-0 inset-y-0 flex items-center px-2 text-gray-700"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])},r=[],s={name:"RSelect",props:{value:{type:[String,Number,Boolean,Object,Array,Symbol,Function],default:null},placeholder:String},data(){return{selected:this.value}},computed:{computedValue:{get(){return this.selected},set(e){console.log(e),this.selected=e,this.$emit("input",e)}}},watch:{value(e){this.selected=e}}},i=s,l=(a("d54d"),a("2877")),o=Object(l["a"])(i,n,r,!1,null,null,null);t["a"]=o.exports},"8fc4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-full flex flex-wrap items-end"},[e._t("default")],2)},r=[],s={name:"Toolbar"},i=s,l=a("2877"),o=Object(l["a"])(i,n,r,!1,null,null,null);t["a"]=o.exports},b11f:function(e,t,a){"use strict";var n=a("14aa"),r=a.n(n);r.a},d54d:function(e,t,a){"use strict";var n=a("3ed4"),r=a.n(n);r.a},defb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-w-5xl w-full"},[a("toolbar",[a("month-selector",{model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),a("r-field",{staticClass:"hidden md:block ml-auto"},[a("router-link",{staticClass:"btn-link",attrs:{to:"/calendar/linked"}},[e._v("Linked calendars")])],1)],1),a("div",{staticClass:"flex justify-center"},[a("div",{staticClass:"container mt-4"},e._l(e.weeks,function(t){return a("div",{key:t.weekOfYear,staticClass:"week"},e._l(t.days,function(t){return a("day",{key:t.dayOfYear,attrs:{day:t},on:{"trigger:new":e.newReservation,"reservation:selected":e.openReservation}})}),1)}),0)]),a("reservation-form",{attrs:{visible:e.reservationFormVisible,reservation:e.selectedReservation,datehint:e.datehint},on:{close:e.closeReservationForm}})],1)},r=[],s=a("c1df"),i=a("0942"),l=a("8fc4"),o=a("0429"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-modal",{attrs:{active:e.visible},on:{close:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[a("p",{staticClass:"ml-6 my-3 font-bold  text-xl text-gray-700"},[e._v(e._s(e.title))])]},proxy:!0},{key:"default",fn:function(){return[e.formData?a("div",{staticClass:"flex flex-row flex-wrap align-center justify-between p-3"},[a("div",{staticClass:"w-full md:w-1/2"},[a("r-field",{attrs:{label:"Reservation Reference"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.reference,expression:"formData.reference"}],staticClass:"input",attrs:{type:"text",placeholder:"Reservation Reference"},domProps:{value:e.formData.reference},on:{input:function(t){t.target.composing||e.$set(e.formData,"reference",t.target.value)}}})]),a("r-field",{attrs:{label:"Holding name"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.holdingName,expression:"formData.holdingName"}],staticClass:"input",attrs:{type:"text",placeholder:"Holding name"},domProps:{value:e.formData.holdingName},on:{input:function(t){t.target.composing||e.$set(e.formData,"holdingName",t.target.value)}}})]),a("r-field",{attrs:{label:"Price"}},[a("currency-input",{attrs:{placeholder:"Price",currency:e.formData.currency},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}})],1)],1),a("div",{staticClass:"w-full md:w-1/2"},[a("r-field",{attrs:{label:"Source"}},[a("input",{staticClass:"input",attrs:{type:"text",placeholder:"Source",readonly:""},domProps:{value:e.formData.source}})]),a("r-field",{attrs:{label:"Country"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.country,expression:"formData.country"}],staticClass:"input",attrs:{type:"text",placeholder:"Country"},domProps:{value:e.formData.country},on:{input:function(t){t.target.composing||e.$set(e.formData,"country",t.target.value)}}})]),a("r-field",{attrs:{label:"Currency"}},[a("r-select",{model:{value:e.formData.currency,callback:function(t){e.$set(e.formData,"currency",t)},expression:"formData.currency"}},[a("option",{attrs:{value:"HRK"}},[e._v("HRK")]),a("option",{attrs:{value:"EUR"}},[e._v("EUR")])])],1)],1),a("div",{staticClass:"w-full flex justify-between mt-12"},[a("r-field",{staticClass:"w-2/5",attrs:{label:"Check-in"}},[a("date-input",{staticClass:"input",attrs:{type:"date",placeholder:"Check-in"},model:{value:e.formData.startDate,callback:function(t){e.$set(e.formData,"startDate",t)},expression:"formData.startDate"}})],1),a("r-field",{staticClass:"w-2/5",attrs:{label:"Check-out"}},[a("date-input",{staticClass:"input",attrs:{type:"date",placeholder:"Check-out"},model:{value:e.formData.endDate,callback:function(t){e.$set(e.formData,"endDate",t)},expression:"formData.endDate"}})],1),a("r-field",{staticClass:"w-1/5",attrs:{label:"Days"}},[a("input",{staticClass:"input",attrs:{type:"text",placeholder:"Days",readonly:""},domProps:{value:e.days}})])],1)]):e._e()]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"m-3 flex flex-row justify-end items-center"},[a("button",{staticClass:"btn btn-primary",on:{click:e.trySave}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-save"})]),e._v(" Save")]),a("div",{staticClass:"flex ml-auto"},[a("button",{staticClass:"btn btn-outline-secondary mx-1",on:{click:e.close}},[e._v("Cancel")]),e.deleteAllowed?a("button",{staticClass:"btn btn-outline-danger mx-1",on:{click:e.tryDelete}},[a("i",{staticClass:"fas fa-trash"})]):e._e()])])]},proxy:!0}])})},d=[],u=a("2f62"),m=a("8fb6"),f=a("5b7c"),p=a("7a3f"),v=a("df33"),h=a("eec9"),y={name:"ReservationForm",components:{RField:i["a"],RSelect:m["a"],RModal:f["a"],DateInput:p["a"],CurrencyInput:v["a"]},mixins:[h["a"]],props:{visible:{type:Boolean,required:!0},reservation:{type:Object,default:null},datehint:{type:Date,default:new Date}},data(){return{formData:null}},computed:{title(){let e=this.reservation;if(e){let t=s(e.startDate).format("DD.MM."),a=s(e.endDate).format("DD.MM.YYYY.");return`${e.holdingName} - ${t} - ${a}`}return"New reservation"},days(){let e=this.formData&&this.formData.startDate&&this.formData.endDate?s(this.formData.endDate).diff(s(this.formData.startDate),"days"):0;return e},deleteAllowed(){return this.reservation&&"RentTracker"===this.reservation.source&&this.reservation.id}},watch:{reservation:{immediate:!0,handler:function(e){this.formData=e?{...e}:{source:"RentTracker",amount:0,currency:"HRK"}}},datehint:{immediate:!0,handler:function(e){this.reservation||(this.formData.startDate=s(this.datehint).toDate(),this.formData.endDate=s(this.datehint).add(1,"days").toDate())}}},methods:{...Object(u["b"])({createOrUpdate:"apartment/createOrUpdateReservation",delete:"apartment/deleteReservation"}),async tryDelete(){let e=confirm("Please confirm you want to delete the reservation.");e&&(await this.delete(this.reservation.id),this.close())},async trySave(){try{await this.createOrUpdate(this.formData),this.close()}catch(e){console.log(e)}},close(){this.$emit("close")}}},g=y,b=a("2877"),C=Object(b["a"])(g,c,d,!1,null,null,null),x=C.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"day relative border border-gray-400 hover:bg-gray-200 hover:border-2",class:e.dayClasses,style:e.dayStyle,attrs:{title:e.title},on:{click:e.triggerAction}},[a("span",{staticClass:"absolute top-0 left-0 p-1 md:p-2 font-bold text-xs md:text-md"},[e._v(e._s(e.dayOfMonth))]),e.startingReservation?a("div",{staticClass:"reservation-ribbon hover:shadow-lg first-day",attrs:{title:e.getReservationDescription(e.startingReservation)},on:{click:function(t){return e.openReservation(e.startingReservation)}}},[a("span",{staticClass:"guest-icon",class:e.guestIconClass},[e._v(e._s(e.getGuestInitials(e.startingReservation)))])]):e._e(),e.inProgressReservation?a("div",{staticClass:"reservation-ribbon hover:shadow-lg",attrs:{title:e.getReservationDescription(e.inProgressReservation)},on:{click:function(t){return e.openReservation(e.inProgressReservation)}}}):e._e(),e.endingReservation?a("div",{staticClass:"reservation-ribbon hover:shadow-lg last-day",attrs:{title:e.getReservationDescription(e.endingReservation)},on:{click:function(t){return e.openReservation(e.endingReservation)}}}):e._e()])},k=[],w={name:"Day",props:{day:{type:Object,required:!0}},computed:{...Object(u["c"])({getStartingReservation:"apartment/getStartingReservation",getEndingReservation:"apartment/getEndingReservation",getInProgressReservation:"apartment/getInProgressReservation"}),startingReservation(){return this.getStartingReservation(this.day.dateEpoch.toString())},endingReservation(){return this.getEndingReservation(this.day.dateEpoch.toString())},inProgressReservation(){return this.getInProgressReservation(this.day.dateEpoch.toString())},title(){return this.day.date.toLocaleDateString()},dayOfMonth(){return this.day.date.getDate()},dayClasses(){let e=[];return this.day.isCurrentMonth||e.push("bg-gray-300 shadow-inner"),e.join(" ").trim()},dayStyle(){return""},reservationClass(){let e="";return this.startingReservation?e="first-day":this.endingReservation&&(e="last-day"),e},guestIconClass(){if(!this.startingReservation)return"";switch(this.startingReservation.source){case"Airbnb":return"bg-airbnb";case"Booking":return"bg-booking";default:return"bg-renttracker"}}},methods:{triggerAction(){this.startingReservation&&this.inProgressReservation||this.$emit("trigger:new",this.day.date)},openReservation(e){this.$emit("reservation:selected",e)},getReservationDescription(e){let t=`${s(e.startDate).format("DD.MM.")} - ${s(e.endDate).format("DD.MM.")}`;return`${e.holdingName} | ${t}`},getGuestInitials(e){e.holdingName||console.log(e);let t=e.holdingName.split(/\s/);return t[0][0]+t[t.length-1][0]}}},_=w,R=(a("e805"),Object(b["a"])(_,D,k,!1,null,"6abae6a6",null)),L=R.exports,$={name:"Calendar",components:{RField:i["a"],Toolbar:l["a"],MonthSelector:o["a"],ReservationForm:x,Day:L},data(){return{datehint:null,selectedDate:new Date,selectedReservation:null,reservationFormVisible:!1}},computed:{weeks(){let e=this.selectedDate.getMonth(),t=this.selectedDate.getFullYear(),a=e,n=s().year(t).month(e).startOf("month"),r=n.startOf("week"),i=[];while(a===e)i.push({days:[0,1,2,3,4,5,6].map(t=>{let a=s(r).add(t,"d");return{dateEpoch:a.toDate().valueOf(),dayOfYear:a.dayOfYear(),date:a.toDate(),isCurrentMonth:a.get("month")===e}}),weekOfYear:r.week()}),r=s(r).add(7,"d"),a=s(r).get("month");return i}},methods:{newReservation(e){this.datehint=e,this.reservationFormVisible=!0},openReservation(e){this.selectedReservation=e,this.reservationFormVisible=!0},closeReservationForm(){this.reservationFormVisible=!1,this.selectedReservation=null}}},O=$,S=(a("1206"),Object(b["a"])(O,n,r,!1,null,null,null));t["default"]=S.exports},df33:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("input",{staticClass:"input",attrs:{type:"text"},domProps:{value:e.formattedValue},on:{input:function(t){return e.parseValue(t.target.value)},focus:function(t){e.isEditing=!0},blur:function(t){e.isEditing=!1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur()}}})},r=[],s=a("eec9"),i={name:"CurrencyInput",inheritAttrs:!0,mixins:[s["a"]],props:{value:{type:Number,default:0},currency:{type:String,default:"HRK"}},data(){return{isEditing:!1}},computed:{formattedValue(){let e=this.value?this.value:0;return this.isEditing?e.toString().replace(".",","):e.toLocaleString("hr-HR",{style:"currency",currency:this.currency})}},methods:{parseValue(e){this.$emit("input",parseFloat(e.replace(",",".")))}}},l=i,o=a("2877"),c=Object(o["a"])(l,n,r,!1,null,null,null);t["a"]=c.exports},e542:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex justify-center items-center md:p-4"},[e.activeApartment?a("router-view"):a("div",{staticClass:"mt-12"},[a("h1",{staticClass:"text-gray-900"},[e._v("Please pick an apartment to see the calendar")])])],1)},r=[],s=a("2f62"),i={name:"CalendarView",computed:{...Object(s["e"])({activeApartment:e=>e.global.activeApartment})},watch:{activeApartment:{immediate:!0,handler:function(e){e&&this.getReservations(e.id)}}},methods:{...Object(s["b"])({getReservations:"apartment/getReservations"})}},l=i,o=a("2877"),c=Object(o["a"])(l,n,r,!1,null,"f7d7d14c",null);t["default"]=c.exports},e805:function(e,t,a){"use strict";var n=a("5eae"),r=a.n(n);r.a},e8a6:function(e,t,a){"use strict";var n=a("8661"),r=a.n(n);r.a},eec9:function(e,t,a){"use strict";var n=a("c1df");const r={child:"ren"};t["a"]={filters:{money:function(e,t){let a=e.toLocaleString("hr-HR",{style:"currency",currency:t});return a},moneyShort:function(e,t){let a=e>=1e6?"M":e>=1e3?"K":null;"M"==a&&(e/=1e6),"K"==a&&(e/=1e3);let n=e.toLocaleString("hr-HR",{style:"decimal",maximumFractionDigits:1,minimumFractionDigits:1});return a&&(n=`${n} ${a} ${t}`),n},date:function(e){return n(e).format("DD.MM.YYYY.")},pluralize:function(e,t){let a=r[e.toLowerCase()]||"s";return t>1?e+a:e}}}}}]);
//# sourceMappingURL=CalendarView.js.map