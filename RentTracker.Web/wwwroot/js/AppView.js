(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AppView"],{"44ea":function(t,e,a){},"6b79":function(t,e,a){"use strict";var s=a("44ea"),i=a.n(s);i.a},7068:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-view"},[a("navigation-bar"),a("router-view")],1)},i=[],n=a("632a"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"flex items-center justify-start flex-wrap bg-blue-600 p-2 shadow-lg"},[a("div",{staticClass:"flex items-center flex-no-shrink text-white mr-6"},[a("button",{staticClass:"md:hidden",on:{click:t.toggleDrawer}},[t._m(0)]),a("router-link",{staticClass:"hidden md:block nav-link",attrs:{to:"/apartments"}},[a("i",{staticClass:"pr-2 fas fa-hotel"}),t._v("Apartments")]),a("router-link",{staticClass:"hidden md:block nav-link",attrs:{to:"/calendar"}},[a("i",{staticClass:"pr-2 fas fa-calendar"}),t._v("Calendar")]),a("router-link",{staticClass:"hidden md:block nav-link",attrs:{to:"/expenses"}},[a("i",{staticClass:"pr-2 fas fa-file-invoice-dollar"}),t._v("Expenses")]),a("router-link",{staticClass:"hidden md:block nav-link",attrs:{to:"/integrations"}},[a("i",{staticClass:"pr-2 fas fa-layer-group"}),t._v("Integrations")]),a("router-link",{staticClass:"hidden md:block nav-link",attrs:{to:"/business-analysis"}},[a("i",{staticClass:"pr-2 fas fa-chart-line"}),t._v("Business analysis")])],1),a("div",{staticClass:"flex items-end text-white ml-auto"},[t.activeApartment?a("p",{staticClass:"font-semibold"},[t._v(t._s(t.activeApartment.name))]):t._e(),a("a",{staticClass:"px-2 font-semibold",attrs:{href:"/auth/sign-out"}},[t._v("Sign out")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.drawerOpen,expression:"drawerOpen"}],staticClass:"drawer min-h-screen w-full fixed top-0 left-0 flex flex-col justify-center items-center bg-blue-600"},[a("router-link",{staticClass:"drawer-link w-full flex justify-center items-center py-4",attrs:{to:"/apartments"},nativeOn:{click:function(e){return t.toggleDrawer(e)}}},[a("i",{staticClass:"pr-2 fas fa-hotel"}),t._v("Apartments")]),a("router-link",{staticClass:"drawer-link w-full flex justify-center items-center py-4",attrs:{to:"/calendar"},nativeOn:{click:function(e){return t.toggleDrawer(e)}}},[a("i",{staticClass:"pr-2 fas fa-calendar"}),t._v("Calendar")]),a("router-link",{staticClass:"drawer-link w-full flex justify-center items-center py-4",attrs:{to:"/expenses"},nativeOn:{click:function(e){return t.toggleDrawer(e)}}},[a("i",{staticClass:"pr-2 fas fa-file-invoice-dollar"}),t._v("Expenses")]),a("router-link",{staticClass:"drawer-link w-full flex justify-center items-center py-4",attrs:{to:"/integrations"},nativeOn:{click:function(e){return t.toggleDrawer(e)}}},[a("i",{staticClass:"pr-2 fas fa-layer-group"}),t._v("Integrations")]),a("router-link",{staticClass:"drawer-link w-full flex justify-center items-center py-4",attrs:{to:"/business-analysis"},nativeOn:{click:function(e){return t.toggleDrawer(e)}}},[a("i",{staticClass:"pr-2 fas fa-chart-line"}),t._v("Business analysis")]),t._m(1)],1)])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-bars"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col items-center text-white mt-auto"},[a("a",{staticClass:"p-4 font-semibold",attrs:{href:"/auth/sign-out"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-sign-out-alt"})]),t._v(" Sign out")])])}],c=a("2f62"),o={name:"NavigationBar",data(){return{drawerOpen:!1}},computed:{...Object(c["d"])({activeApartment:t=>t.global.activeApartment})},methods:{toggleDrawer(){this.drawerOpen=!this.drawerOpen}}},u=o,f=(a("6b79"),a("2877")),p=Object(f["a"])(u,r,l,!1,null,"5edac886",null),d=p.exports,v={name:"AppView",components:{NavigationBar:d},mounted(){this.subscribeForPushNotifications()},methods:{urlB64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),a=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(a),i=new Uint8Array(s.length);for(let n=0;n<s.length;++n)i[n]=s.charCodeAt(n);return i},async subscribeForPushNotifications(){let t,e;navigator.serviceWorker.ready.then(async a=>{if(e=await a.pushManager.getSubscription(),!e){if(t=await n["a"].getPublicKey(),console.log(t),!t)return void console.log("Failed to retrieve application server public key");a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlB64ToUint8Array(t)}).then(t=>{let e=t.toJSON(),a={endpoint:t.endpoint,p256dh:e.keys.p256dh,auth:e.keys.auth};n["a"].subscribe(a)}).catch(t=>{console.log(t)})}})}}},h=v,m=Object(f["a"])(h,s,i,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=AppView.js.map